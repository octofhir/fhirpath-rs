{
  "name": "testLastIndexOf",
  "description": "testLastIndexOf",
  "source": "fhirpath-lab",
  "tests": [
    {
      "name": "testLastIndexOfBasicCase",
      "expression": "'hello world'.lastIndexOf('l')",
      "input": null,
      "tags": [
        "fhirpath-lab",
        "testLastIndexOf"
      ],
      "inputfile": "patient-example.json",
      "expected": [9]
    },
    {
      "name": "testLastIndexOfSubstringFound",
      "expression": "'hello world'.lastIndexOf('world')",
      "input": null,
      "tags": [
        "fhirpath-lab",
        "testLastIndexOf"
      ],
      "inputfile": "patient-example.json",
      "expected": [6]
    },
    {
      "name": "testLastIndexOfSubstringNotFound",
      "expression": "'hello world'.lastIndexOf('xyz')",
      "input": null,
      "tags": [
        "fhirpath-lab",
        "testLastIndexOf"
      ],
      "inputfile": "patient-example.json",
      "expected": [-1]
    },
    {
      "name": "testLastIndexOfEmptySubstring",
      "expression": "'hello'.lastIndexOf('')",
      "input": null,
      "tags": [
        "fhirpath-lab",
        "testLastIndexOf"
      ],
      "inputfile": "patient-example.json",
      "expected": [5]
    },
    {
      "name": "testLastIndexOfOnEmptyString",
      "expression": "''.lastIndexOf('x')",
      "input": null,
      "tags": [
        "fhirpath-lab",
        "testLastIndexOf"
      ],
      "inputfile": "patient-example.json",
      "expected": [-1]
    },
    {
      "name": "testLastIndexOfMultipleOccurrences",
      "expression": "'abcdefabcdef'.lastIndexOf('abc')",
      "input": null,
      "tags": [
        "fhirpath-lab",
        "testLastIndexOf"
      ],
      "inputfile": "patient-example.json",
      "expected": [6]
    },
    {
      "name": "testLastIndexOfSingleCharMultipleTimes",
      "expression": "'aaa'.lastIndexOf('a')",
      "input": null,
      "tags": [
        "fhirpath-lab",
        "testLastIndexOf"
      ],
      "inputfile": "patient-example.json",
      "expected": [2]
    },
    {
      "name": "testLastIndexOfCaseSensitive",
      "expression": "'Hello World'.lastIndexOf('l')",
      "input": null,
      "tags": [
        "fhirpath-lab",
        "testLastIndexOf"
      ],
      "inputfile": "patient-example.json",
      "expected": [9]
    },
    {
      "name": "testLastIndexOfCaseSensitiveNotFound",
      "expression": "'hello world'.lastIndexOf('L')",
      "input": null,
      "tags": [
        "fhirpath-lab",
        "testLastIndexOf"
      ],
      "inputfile": "patient-example.json",
      "expected": [-1]
    },
    {
      "name": "testLastIndexOfWithCollection",
      "expression": "('hello world' | 'goodbye world').lastIndexOf('o')",
      "input": null,
      "tags": [
        "fhirpath-lab",
        "testLastIndexOf"
      ],
      "inputfile": "patient-example.json",
      "expected": [7, 2]
    },
    {
      "name": "testLastIndexOfWithPatientName",
      "expression": "Patient.name.family.lastIndexOf('-')",
      "input": {
        "resourceType": "Patient",
        "name": [
          {
            "family": "Smith-Jones",
            "given": ["John"]
          }
        ]
      },
      "tags": [
        "fhirpath-lab",
        "testLastIndexOf"
      ],
      "inputfile": null,
      "expected": [5]
    },
    {
      "name": "testLastIndexOfUnicodeSupport",
      "expression": "'café résumé'.lastIndexOf('é')",
      "input": null,
      "tags": [
        "fhirpath-lab",
        "testLastIndexOf"
      ],
      "inputfile": "patient-example.json",
      "expected": [10]
    },
    {
      "name": "testLastIndexOfWithSpecialCharacters",
      "expression": "'test@email.com'.lastIndexOf('@')",
      "input": null,
      "tags": [
        "fhirpath-lab",
        "testLastIndexOf"
      ],
      "inputfile": "patient-example.json",
      "expected": [4]
    }
  ]
}